var layers = [];
// -------------- FUNCTIONS ------------

function maps() {
  var map;
    function initialize() {
      var mapOptions = {
        center: new google.maps.LatLng(37.769884, -122.459793),
        zoom: 10,
        mapTypeId: google.maps.MapTypeId.SATELLITE,
        mapTypeControlOptions: {
          style: google.maps.MapTypeControlStyle.DROPDOWN_MENU
        },
        zoomControlOptions: {
          style: google.maps.ZoomControlStyle.SMALL,
          position: google.maps.ControlPosition.RIGHT_BOTTOM
        },
        panControlOptions: {
          position: google.maps.ControlPosition.RIGHT_BOTTOM
        },
      };
      map = new google.maps.Map(document.getElementById("map"),
          mapOptions);

      layers[1] = new google.maps.KmlLayer({
        url: 'https://maps.google.com/maps/ms?dg=feature&ie=UTF8&authuser=0&msa=0&output=kml&msid=216722849731329970375.0004a2f137271f66502f6'
      });
      layers[2] = new google.maps.KmlLayer({
        url: 'https://maps.google.com/maps/ms?ie=UTF8&hl=en&source=embed&dg=feature&authuser=0&msa=0&output=kml&msid=216722849731329970375.0004a2f13b9644a6edc2f'
      });
    
      // $('#neighbor').on('click', function(){
        
      //     kmlLayer.setMap(map);
      //     kmlLayer.set('preserveViewport', true);
      //     kmlLayer2.setMap(map);
      //     kmlLayer2.set('preserveViewport', true);
      //     $('#neighbor').addClass('active');
          
      //     //   
      //     // }
      //   // $('#container').show();
      //   // $('#neighbor').on('click', function(){
      //   //   kmlLayer.setMap(null);
      //   //   kmlLayer2.setMap(null);
        
      // })
      // if($('#neighbor').hasClass('active')){
      //   $('#neighbor').removeClass('active');
      //   kmlLayer.setMap(null);
      //   kmlLayer2.setMap(null);
      // })
      
    }
    function toggleLayers(i)
      {

        if(layers[i].getMap()==null) {
           layers[i].setMap(map);
        }
        else {
           layers[i].setMap(null);
        }
        document.getElementById('neighbor').innerHTML += "toggleLayers("+i+") [setMap("+layers[i].getMap()+"] returns status: "+layers[i].getStatus()+"<br>";
      }
    google.maps.event.addDomListener(window, 'load', initialize);
}


//  ----------- ON DOCUMENT READY --------------
$(function() {
  $('#container').hide();
  $('#close').on('click', function() {
    $('#container').css('display', 'none');
  })
  maps();

  // $("#myModal").modal({show:false });
});